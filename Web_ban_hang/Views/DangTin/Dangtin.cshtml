@model Model.EF.DangBT

@{
    ViewBag.Title = "Đăng ban tin";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var tinh = (List<Model.EF.Khuvuc>)ViewBag.Tinh;
    var user = (UserLogin)Session[Web_ban_hang.Common.CommonConstants.USER_SESSION];
}

@section jsFooter{
    <script src="/assets/client/js/controller/DangtinController.js"></script>
}
<div class="content">
    <div class="section group ">
        @using (Html.BeginForm("Dangtin", "User", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            <div class="section group " id="dangtin">
                <div class="header_bottom_left">
                    <div class="nav" style="padding:10px">
                        <div class="dropdown">
                            <button class="dropdown-toggl btn btn-danger" data-toggle=dropdown id="bt-tinh">
                                <span id="tinh">Toàn quốc</span>
                                <span class="caret"></span>
                            </button>
                            <div class="an_top1">
                                @Html.TextBoxFor(model => model.MaKV, htmlAttributes: new { @id = "tinh1" })
                            </div>
                            <ul class=" dropdown-menu btn-toolbar menu-tinh" role="toolbar" id="id-ten-t">
                                @foreach (var item in tinh)
                                {
                                    <li class="btn-group" role="group"><a href="javascript:" id="City_@item.MaKV" style="padding:8px 15px;" rel="@item.MaKV">@item.TenKV</a></li>
                                }

                            </ul>

                        </div>
                    </div>
                    <div class="categories">
                        @{ Html.RenderAction("MenuSP", "User");}
                    </div>
                </div>
                <div class="header_bottom_right">
                    <div class="form-horizontal">
                        <h4>Đăng tin miễn phí</h4>
                        <hr />
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        <div class="form-group">
                            @Html.LabelFor(model => model.SanPham.TieuDe, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.TextBoxFor(model => model.SanPham.TieuDe, htmlAttributes: new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.SanPham.TieuDe, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.SanPham.Mota, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.TextAreaFor(model => model.SanPham.Mota, htmlAttributes: new { @class = "form-control textarea-nd" })
                                @Html.ValidationMessageFor(model => model.SanPham.Mota, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="group-form form-group">
                            @Html.LabelFor(model => model.SanPham.HinhAnh.Link, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">

                                <p class="title large">
                                    Hình ảnh sản phẩm
                                </p>
                                <p class="hint">Được phép đăng tối đa 6 ảnh, mỗi ảnh không quá 4Mb</p>
                                <div id="fileupload">
                                    <link href="/Assets/client/css/css.css" rel="stylesheet" />
                                    <script src="/assets/client/js/controller/dangtin.js"></script>
                                    <ul id="uploadimage" class="form-upload-image clearfix">
                                        <input id="InputUpload" name="InputUpload" type="hidden" value="" />
                                    </ul>
                                    <script>
                                        $("#uploadimage").upload({
                                            target: "InputUpload",
                                            maxFiles: 6
                                        });
                                    </script>

                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row" id="phantu">

                            </div>
                        </div>
                        <div class="form-group" style="display: none;">
                            @Html.TextBoxFor(model => model.SanPham.IDHang, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_BN, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_BXL, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_Camera, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_Card, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_Case, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_CL, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_CN, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_HDH, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_DPG, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_Doi, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_HS, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_KD, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_KT, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_LTR, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_M, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_MS, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_PB, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_Pin, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_QD, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_PK, htmlAttributes: new { @class = "form-control-1" })
                            @Html.TextBoxFor(model => model.SanPham.ID_R, htmlAttributes: new { @class = "form-control-1" })                           
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.SanPham.GiaBan, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class=" from-table">
                                @Html.TextBoxFor(model => model.SanPham.GiaBan, htmlAttributes: new { @class = "form-control-1" })
                                <div class="gia">
                                    đ
                                </div>
                                @Html.ValidationMessageFor(model => model.SanPham.GiaBan, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-offset-2 col-md-10">
                                <input type="submit" value="Đăng tin" class="btn btn-default" />
                                <input id="btnReview" type="button" class="btn-df btnReview" rel="nofollow" value="Xem trước" />

                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="panel review-news-box" style="display: none;">

                <div class="panel-header">
                    <h2 class="panel-title text-center text-uppercase">Xem trước tin đăng</h2>
                </div>

                <div class="panel-body">
                    <div class="preview-news">
                        <div class="row clearfix">
                            <div class="col-gr-60per">
                                <link href="/assets/client/css/Gallery.css" rel="stylesheet" />
                                <script src="/assets/client/js/ScriptsGallery.js"></script>

                                <div class="group-image-prd">
                                </div>
                            </div>
                            <div class="col-gr-40per">
                                <div class="group-info-detail-prd">
                                    <div class="row-info-prd" style="margin-bottom: 10px">
                                        <h1 class="title-name" id="viewTitle"></h1>
                                        <p class="if-more">
                                            <span>08/06/2019</span>
                                            <span id="viewPlace"></span>
                                        </p>
                                    </div>
                                    <div class="row-info-prd price" style="margin-bottom: 15px;">
                                        <span id="viewPrice"></span>
                                        <span class="unit">đ</span>
                                    </div>

                                    <div class="row-info-prd">
                                        <div class="author">
                                            <span class="pull-left">
                                                <i class="icon-user"></i>
                                                <span id="tempUser"></span>
                                            </span>
                                            <span class="pull-left">
                                                <i class="icon-mobile-1"></i>
                                                <span id="tempMobile"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ul class="table-info-detail-prd" id="viewProperties"></ul>
                        <div class="intro-detail-prd">
                            <p id="viewDesc"></p>
                        </div>
                    </div>
                    <div class="text-center">
                        <input type="submit" value="Đăng tin" class="btn btn-default" />
                        <input id="btnBackPost" type="button" class="btn-df btnReview" rel="nofollow" value="Quay lại" />
                    </div>

                </div>

                <style>
                    .review-news-box {
                        width: 1150px !important;
                    }
                </style>

            </div>


        }
    </div>

    <style>
        #PostError .validation-summary-errors {
            color: #f09e29;
            font-size: 13px;
            margin-bottom: 15px;
        }

        .form-table.regis-getNews li .form-tit {
            width: 32%;
        }

        .form-table.regis-getNews li .form-cont {
            width: 68%;
        }
    </style>

</div>
<script type="text/javascript">
    $("#id-ten-t>li>a").on('click', function () {
        var val = $(this).html();
        $("#tinh").html(val);
        $("#tinh1").val($(this).attr('rel'));
    })
    $("#btnBackPost").on('click', function () {
        $(".review-news-box").css("display", "none");
        $("#dangtin").removeAttr('style');
    })
    $("#btnReview").on('click', function () {
        $("#dangtin").css("display", "none");
        $(".review-news-box").removeAttr('style');
    })
</script>

